{% extends 'index.twig' %}

{% block body %}

   {% set blocks = entry.contentBlocks.all() %}
   <div class="space-y-8 py-8">
      {% for block in blocks %}
         {% set camel = block.type.handle %}
         {# using 'with' eagerly loads the data, I guess? #}
         {% include("_components/blocks/#{camel}.twig") with {'block': block} only %}
      {% endfor %}
   </div>

{% endblock body %}